<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="holding">
    <target name="holding">
        <!-- Create second xdb-library object if any-->
        <echo>Configuring xdb-library object with name '${holding}-xdb-library'</echo>
        <ia-task self="libSelf">
            <object typeAlias="xdb-library" checkExistSpEL="?[name=='${holding}-xdb-library']">
                <create>
                    <name>${holding}-xdb-library</name>
                    <subPath>aips/${holding}</subPath>
                    <parentSpaceRootXdbLibrary>${rootSelf}</parentSpaceRootXdbLibrary>
                </create>
            </object>
        </ia-task>

        <!-- Create/update an holding object if any-->
        <echo>Configuring holding object with name '${holding}'</echo>
        <ia-task self="holdingSelf">
            <object typeAlias="holding" checkExistSpEL="?[name=='${holding}']">
                <create>
                    <name>${holding}</name>
                </create>
                <update>
                    <ingestNodes>${ingestNodeSelf}</ingestNodes>
                    <ingestNodes/>
                    <priority>1</priority>
                    <subPriorities>
                        <deadLine>100</deadLine>
                        <priority>0</priority>
                    </subPriorities>
                    <subPriorities>
                        <deadLine>200</deadLine>
                        <priority>1</priority>
                    </subPriorities>
                    <sipStore>${storeSelf}</sipStore>
                    <ciStore>${storeSelf}</ciStore>
                    <xmlStore>${storeSelf}</xmlStore>
                    <logStore>${storeSelf}</logStore>
                    <renditionStore>${storeSelf}</renditionStore>
                    <logStoreEnabled>true</logStoreEnabled>
                    <xdbStore>${storeSelf}</xdbStore>
                    <xdbMode>PRIVATE</xdbMode>
                    <xdbLibraryParent>${libSelf}</xdbLibraryParent>
                    <ciHashValidationEnabled>true</ciHashValidationEnabled>
                    <pdiXmlHashValidationEnabled>true</pdiXmlHashValidationEnabled>
                    <pdiXmlHashEnforced>false</pdiXmlHashEnforced>
                    <syncCommitEnabled>true</syncCommitEnabled>
                    <pdiConfigs>
                        <schema>${pdiSchema}</schema>
                        <pdi>${pdiSelf}</pdi>
                    </pdiConfigs>
                    <pdiConfigs/>
                    <ingestConfigs>
                        <sipFormat>sip_zip</sipFormat>
                        <ingest>${ingestSelf}</ingest>
                    </ingestConfigs>
                    <ingestConfigs>
                        <sipFormat>eas_sip_zip</sipFormat>
                        <ingest>${ingestSelf}</ingest>
                    </ingestConfigs>
                    <ingestConfigs>
                        <sipFormat>sip_zip_crypto</sipFormat>
                        <ingest>${ingestSelf}</ingest>
                    </ingestConfigs>
                    <ingestConfigs>
                        <sipFormat>eas_sip_zip_crypto</sipFormat>
                        <ingest>${ingestSelf}</ingest>
                    </ingestConfigs>
                    <ingestConfigs/>
                    <keepSipAfterCommitEnabled>false</keepSipAfterCommitEnabled>
					<retentionClasses>
						<name>default_policy</name>
						<policies>default_policy</policies>
						<policies/>
					</retentionClasses>
                    <retentionClasses>
                        <name>Startbrief</name>
                        <policies>Startbrief</policies>
						<policies/>
                    </retentionClasses>
					<retentionClasses>
						<name>Beschikking</name>
						<policies>Beschikking</policies>
						<policies/>
					</retentionClasses>
					<retentionClasses>
						<name>Betaalregeling</name>
						<policies>Betaalregeling</policies>
						<policies/>
					</retentionClasses>
					<retentionClasses>
						<name>Bevestiging_BetaalRegeling</name>
						<policies>Bevestiging_Betaalregeling</policies>
						<policies/>
					</retentionClasses>
					<retentionClasses>
						<name>Herinnering</name>
						<policies>Herinnering</policies>
						<policies/>
					</retentionClasses>
					<retentionClasses>
						<name>Overlijdensprofiel</name>
						<policies>Overlijdensprofiel</policies>
						<policies/>
					</retentionClasses>
					<retentionClasses>
						<name>Strorno_Al_Aanmaning</name>
						<policies>Strorno_Al_Aanmaning</policies>
						<policies/>
					</retentionClasses>
					<retentionClasses>
						<name>Strorno_Al_Herinnering</name>
						<policies>Strorno_Al_Herinnering</policies>
						<policies/>
					</retentionClasses>
					<retentionClasses/>
                    <defaultRetentionClass>default_policy</defaultRetentionClass>
                </update>
            </object>
        </ia-task>
    </target>
</project>
